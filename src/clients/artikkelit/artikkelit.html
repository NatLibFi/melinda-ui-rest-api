<!DOCTYPE html>
<html>

<!-- -------------------------------------------------------------------------- -->
<!-- Head -->
<!-- -------------------------------------------------------------------------- -->

<head>
  <link rel="shortcut icon" href="/common/images/favicon.png" />
  <link rel="stylesheet" href="artikkelit.css" />
  <link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Montserrat' />
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <script type="module" src="artikkelit.js"></script>

</head>

<!-- -------------------------------------------------------------------------- -->
<!-- Body -->
<!-- -------------------------------------------------------------------------- -->

<body onload="initialize()">
  <!-- ------------------------------------------------------------------------ -->
  <!-- Nav bar -->

  <div id="navbar">
    <div class="IconBar ToolBar">
      <button class="material-icons"><a href="https://www.kiwi.fi/x/iBcvBQ" target="_blank"
          rel="noopener noreferrer">help_outline</a></button>
      <!-- <button class="material-icons" onClick="onNew(event)">add</button> -->
      <!-- <button class="material-icons" onClick="onSearch(event)">search</button> -->
      <div class="dropdown">
        <button id="account-btn" class="material-icons">account_circle</button>
        <div id="account-menu" class="dropdown-content">
          <div class="menu-header" id="username">Tuntematon</div>
          <hr />
          <div class="menu-item" onClick="onAccount(event)">Kirjaudu ulos</div>
        </div>
      </div>
    </div>
  </div>

  <!-- ------------------------------------------------------------------------ -->
  <!-- Application "tabs" -->

  <div id="root">

    <!-- ---------------------------------------------------------------------- -->
    <!-- Loading "screen" -->

    <div id="loading">
    </div>

    <!-- ---------------------------------------------------------------------- -->
    <!-- Login tab -->
    <!-- NOTE: hidden attribute does not work on forms, so we use element style -->

    <form id="login" class="VBox modal-content BoxShadow" style="display: none;">
      <div class="VBox Input">
        <label for="username">Käyttäjätunnus</label>
        <input id="login-username" name="username" />
      </div>
      <div class="VBox Input">
        <label for="password">Salasana</label>
        <input id="login-password" type="password" name="password" />
      </div>
      <div class="HBox Input" style="align-items: baseline;">
        <input id="acceptterms" type="checkbox">
        <label for="acceptterms" style="padding-left: 8px;">
          Hyväksyn
          <a href="https://www.kiwi.fi/pages/viewpage.action?pageId=148177248" target="_blank">
            tietosuojaselosteen</a>
          ja evästeiden käytön.
          <br /><br />
          Evästeitä käytetään käyttäjän autentikoimiseen istunnon aikana.</label>
      </div>
      <div id="info"></div>
      <div style="display: flex; flex-direction: column; align-items: flex-end;">
        <button onClick="return login(event)">Kirjaudu</button>
      </div>
    </form>

    <!-- ---------------------------------------------------------------------- -->
    <!-- Muuntaja tab -->

    <div id="artikkelit-lisaa" hidden>
      <div class="record-merge-panel">

        <div class="col">
          <div class="BoxShadow">
            <div class="header">
              <p class="title">Kuvailtavan artikkelin tiedot</p>
            </div>
            <div>
              <fieldset>
                <legend>Kuvailun kohde:</legend>
                <div class="Select full-width">
                  <label for="kuvailtava-kohde">Kuvailutyyppi:</label>
                  <select id="kuvailtava-kohde" name="kuvailtava-kohde" onchange="return sourceTypeChange()">
                  </select>
                </div>
              </fieldset>
              <fieldset>
                <legend>Julkaisu haku:</legend>
                <div class="Select full-width">
                  <label for="julkaisu-haku-tyyppi">Hakutyyppi:</label>
                  <select id="julkaisu-haku-tyyppi" name="julkaisu-haku-tyyppi"
                    onchange="return showAndHideSearchInputs(event)">
                  </select>
                </div>
                <form id="julkaisu-haku-melinda-form" class="hidden">
                  <div class="Input">
                    <label for="haku-arvo">Haku:</label>
                    <input type="text" id="julkaisu-haku-arvo-melinda" name="haku-arvo" pattern="^[\p{N}]+$"
                      maxlength="9">
                    <div style="display: flex; flex-direction: column; align-items: flex-end;">
                      <button type="submit" class="material-icons tooltip no-border" tooltip-text="Hae">search</button>
                    </div>
                  </div>
                </form>
                <form id="julkaisu-haku-title-form" class="hidden">
                  <div class="Input">
                    <label for="haku-arvo">Haku:</label>
                    <input type="text" id="julkaisu-haku-arvo-title" name="haku-arvo"
                      pattern="^[\p{L}\p{N}\p{M}\p{P}\p{Zs}]+$" maxlength="30" list="julkaisu-haku-arvo-title-lista">
                    <div style="display: flex; flex-direction: column; align-items: flex-end;">
                      <button type="submit" class="material-icons tooltip no-border" tooltip-text="Hae">search</button>
                    </div>
                  </div>
                </form>
                <form id="julkaisu-haku-isbn-form" class="hidden">
                  <div class="Input">
                    <label for="haku-arvo">Haku:</label>
                    <input type="text" id="julkaisu-haku-arvo-isbn" name="haku-arvo">
                    <div style="display: flex; flex-direction: column; align-items: flex-end;">
                      <button type="submit" class="material-icons tooltip no-border" tooltip-text="Hae">search</button>
                    </div>
                  </div>
                </form>
                <form id="julkaisu-haku-issn-form" class="hidden">
                  <div class="Input">
                    <label for="haku-arvo">Haku:</label>
                    <input type="text" id="julkaisu-haku-arvo-issn" name="haku-arvo" pattern="^[\p{N}]{4}-[\p{N}]{4}$"
                      maxlength="9">
                    <div style="display: flex; flex-direction: column; align-items: flex-end;">
                      <button type="submit" class="material-icons tooltip no-border" tooltip-text="Hae">search</button>
                    </div>
                  </div>
                </form>
                <div id="julkaisu-haku-tulos-lista-wrap" class="Select full-width">
                  <label for="julkaisu-haku-tulos-lista">Tulokset:</label>
                  <select id="julkaisu-haku-tulos-lista" class="full-width" onchange="return searchResultChange(event)">
                  </select>
                </div>
              </fieldset>
              <fieldset>
                <legend>Lehden tiedot:</legend>
                <div class="panel">
                  <div id="lehden-nimi-wrap" class="wrap">
                    <label for="lehden-nimi">Nimi:</label>
                    <p id="lehden-nimi" name="lehden-nimi"> </p>
                  </div>
                  <div id="lehden-melindaId-wrap" class="wrap">
                    <label for="lehden-melindaId">Melinda id:</label>
                    <p id="lehden-melindaId" name="lehden-melindaId"> </p>
                  </div>
                  <div id="lehden-issn-wrap" class="wrap">
                    <label for="lehden-issn">ISSN:</label>
                    <p id="lehden-issn" name="lehden-issn"> </p>
                  </div>
                  <div id="lehden-isbn-wrap" class="wrap">
                    <label for="lehden-isbn">ISBN:</label>
                    <p id="lehden-isbn" name="lehden-isbn"> </p>
                  </div>
                </div>
                <div class="panel">
                  <div id="lehden-julkaisu-tyyppi-wrap" class="wrap">
                    <label for="lehden-julkaisu-tyyppi">Julkaisu tyyppi:</label>
                    <p id="lehden-julkaisu-tyyppi" name="lehden-julkaisu-tyyppi"> </p>
                  </div>
                  <div id="lehden-elektroninen-julkaisu-wrap" class="wrap">
                    <label for="lehden-elektroninen-julkaisu">Elektroninen julkaisu:</label>
                    <p id="lehden-elektroninen-julkaisu" name="lehden-elektroninen-julkaisu"></p>
                  </div>
                  <div id="lehden-vuodet-wrap" class="wrap">
                    <label for="lehden-vuodet-min">Julkaisu vuodet:</label>
                    <p id="lehden-vuodet-min" name="lehden-vuodet-min"> </p>
                    <p> - </p>
                    <p id="lehden-vuodet-max" name="lehden-vuodet-max"> </p>
                  </div>
                  <div id="lehden-paikka-wrap" class="wrap">
                    <label for="lehden-paikka">Julkaisu paikka:</label>
                    <p id="lehden-paikka" name="lehden-paikka"> </p>
                  </div>
                </div>
              </fieldset>
              <fieldset>
                <legend>Numeron tiedot:</legend>
                <div class="panel">
                  <div class="Input">
                    <label for="numeron-vuosi">Vuosi:</label>
                    <input type="text" id="numeron-vuosi" name="numeron-vuosi" size="6">
                  </div>
                  <div class="Input">
                    <label for="numeron-vol">Vol.:</label>
                    <input type="number" id="numeron-vol" name="numeron-vol" min="1" max="400" size="5">
                  </div>
                </div>
                <div class="panel">
                  <div class="Input">
                    <label for="numeron-numero">Numero:</label>
                    <input type="text" id="numeron-numero" name="numeron-numero" maxlength="32"
                      pattern="^[\p{N}\p{L}\-\/.,\s]+$">
                  </div>
                  <div class="Input">
                    <label for="numeron-sivut">Sivut:</label>
                    <input type="text" id="numeron-sivut" name="numeron-sivut">
                  </div>
                </div>
              </fieldset>
              <fieldset>
                <legend>Artikkelin tiedot:</legend>
                <div class="Input full-width">
                  <label for="artikkelin-otsikko">Otsikko:</label>
                  <input type="text" id="artikkelin-otsikko" name="artikkelin-otsikko" maxLength="128">
                </div>
                <div class="Input full-width">
                  <label for="artikkelin-muu-nimeke">Muu nimeke:</label>
                  <input type="text" id="artikkelin-muu-nimeke" name="artikkelin-muu-nimeke" maxLength="128">
                </div>
                <div class="Select full-width">
                  <label for="artikkelin-kieli">Kieli:</label>
                  <select id="artikkelin-kieli" name="artikkelin-kieli" maxLength="128">
                  </select>
                </div>
                <div class="Input full-width">
                  <label for="artikkelin-linkki">Linkki kokotekstiin:</label>
                  <input type="text" id="artikkelin-linkki" name="artikkelin-linkki" maxLength="128">
                </div>
                <div class="Input full-width">
                  <label for="artikkelin-tyyppi">Artikkelin tyyppi:</label>
                  <input type="text" id="artikkelin-tyyppi" class="full-width" name="artikkelin-tyyppi"
                    list="artikkelin-tyyppi-lista">
                  <datalist id="artikkelin-tyyppi-lista">
                  </datalist>
                </div>
                <div class="Input full-width">
                  <label for="artikkelin-toistuva">Toistuva palsta:</label>
                  <input type="text" id="artikkelin-toistuva" class="full-width" name="artikkelin-toistuva">
                </div>
              </fieldset>
              <fieldset>
                <legend>Lisä tiedot:</legend>
                <form>
                  <div class="Input full-width">
                    <label for="lisa-tiedot-tieteenala">Tieteenala:</label>
                    <input type="text" id="lisa-tiedot-tieteenala" class="full-width" name="lisa-tiedot-tieteenala"
                      list="lisa-tiedot-tieteenala-lista">
                    <datalist id="lisa-tiedot-tieteenala-lista">
                    </datalist>
                    <button class="material-icons tooltip no-border" tooltip-text="Lisää">add</button>
                  </div>
                </form>
                <form>
                  <div class="Input full-width">
                    <label for="lisa-tiedot-metodologia">Metodologia:</label>
                    <input type="text" id="lisa-tiedot-metodologia" class="full-width" name="lisa-tiedot-metodologia"
                      pattern="^[\p{L}\p{N}\p{P}\p{S}\p{Zs}]+$" maxlength="128">
                    <button class="material-icons tooltip no-border" tooltip-text="Lisää">add</button>
                  </div>
                </form>
              </fieldset>
              <fieldset>
                <legend>Lisätyt tieteenalat ja metodologiat:</legend>
                <div id="tieteenalat-list">
                </div>
                <div id="metodologiat-list">
                </div>
              </fieldset>
              <fieldset>
                <legend>Lisää tekijä:</legend>
                <form id="tekija-lisaa-form" name="tekija-lisaa-form">
                  <div class="Select full-width">
                    <label for="tekija-rooli">Rooli:</label>
                    <select id="tekija-rooli" name="tekija-rooli">
                    </select>
                  </div>
                  <div class="Input">
                    <label for="tekija-sukunimi">Sukunimi:</label>
                    <input type="text" id="tekija-sukunimi" name="tekija-sukunimi" pattern="^[\p{L}\p{P}\p{Zs}]+$"
                      maxLength="128">
                  </div>
                  <div class="Input">
                    <label for="tekija-etunimi">Etunimi:</label>
                    <input type="text" id="tekija-etunimi" name="tekija-etunimi" pattern="^[\p{L}\p{P}\p{Zs}]+$"
                      maxlength="128">
                  </div>
                </form>
                <div id="tekija-organisaatiot-list">
                </div>
                <form id="tekija-lisaa-organisaatio" name="tekija-lisaa-organisaatio">
                  <div class="Input full-width">
                    <label for="tekija-organisaatio">Lisää tekijälle organisaatio:</label>
                    <input type="text" id="tekija-organisaatio" name="tekija-organisaatio"
                      list="tekija-organisaatio-lista">
                    <datalist id="tekija-organisaatio-lista">
                    </datalist>
                    <button class="material-icons tooltip no-border" tooltip-text="Lisää">add</button>
                  </div>
                </form>
                <div class="full-width justify-content-end">
                  <div class="Button">
                    <button onclick="return resetAuthor(event)">Tyhjennä tekijän tiedot</button>
                  </div>
                  <div class="Button">
                    <button type="submit" form="tekija-lisaa-form">Lisää tekijä</button>
                  </div>
                </div>
              </fieldset>
              <fieldset>
                <legend>Lisätyt tekijät:</legend>
                <div id="tekija-list">
                </div>
              </fieldset>
              <fieldset>
                <legend>Tiivistelmä tiedot:</legend>
                <form id="tiivistelma-lisaa-form" name="tiivistelma-lisaa-form">
                  <div class="Select full-width">
                    <label for="tiivistelma-kieli">Kieli:</label>
                    <select id="tiivistelma-kieli" name="tiivistelma-kieli">
                    </select>
                  </div>
                  <div class="Input full-width">
                    <label for="tiivistelma-abstrakti">Tiivistelmä/abstrakti:</label>
                    <textarea id="tiivistelma-abstrakti" name="tiivistelma-abstrakti" class="full-width" rows="5"
                      cols="100"></textarea>
                  </div>
                  <div class="full-width justify-content-end">
                    <div class="Button">
                      <button type="submit">Lisää tiivistelmä</button>
                    </div>
                  </div>
                </form>
              </fieldset>
              <fieldset>
                <legend>Lisätyt tiivistelmät/abstraktit:</legend>
                <div id="tiivistelmat-list">
                </div>
              </fieldset>
              <fieldset>
                <legend>Lisää asia- ja/tai avainsanat:</legend>
                <form id="asiasana-haku-yso-form">
                  <div class="Select full-width">
                    <label for="asiasana-ontologia">Tyyppi:</label>
                    <select id="asiasana-ontologia" name="asiasana-ontologia">
                    </select>
                  </div>
                  <div class="Input">
                    <label for="haku-arvo">Haku:</label>
                    <input type="text" id="haku-arvo-yso" name="haku-arvo" pattern="^[\p{L}\p{N}\p{M}\p{P}\p{Zs}]+$"
                      maxlength="32">
                    <div style="display: flex; flex-direction: column; align-items: flex-end;">
                      <button type="submit" class="material-icons tooltip no-border" tooltip-text="Hae">search</button>
                    </div>
                  </div>
                </form>
                <form id="asiasana-lisaa-form" name="asiasana-lisaa-form">
                  <div class="Select full-width">
                    <label for="asiasana-haku-tulos-lista">Tulokset:</label>
                    <select id="asiasana-haku-tulos-lista" name="asiasana-haku-tulos-lista">
                    </select>
                    <button class="material-icons tooltip no-border" tooltip-text="Lisää">add</button>
                  </div>
                </form>
              </fieldset>
              <fieldset>
                <legend>Lisätyt asia- ja/tai avainsanat:</legend>
                <div id="asiasana-list">
                </div>
              </fieldset>
              <fieldset>
                <legend>Lisäkentät:</legend>
                <form class="full-width">
                  <div class="Input full-width">
                    <label for="lisakenttat-yleinen-huomautus">Yleinen huomautus:</label>
                    <input type="text" id="lisakenttat-yleinen-huomautus" name="lisakenttat-yleinen-huomautus"
                      maxLength="128">
                  </div>
                  <button class="material-icons tooltip no-border" tooltip-text="Lisää">add</button>
                </form>
                <div class="Input full-width">
                  <label for="lisakenttat-poimintakoodi598a">Poimintakoodi (598 $a):</label>
                  <input type="text" id="lisakenttat-tpoimintakoodi598a" name="lisakenttat-poimintakoodi598a"
                    maxLength="128">
                </div>
                <div class="full-width">
                  <div class="Input half-width">
                    <label for="lisakenttat-poimintakoodi599a">Poimintakoodi (599 $a):</label>
                    <input type="text" id="lisakenttat-poimintakoodi599a" name="lisakenttat-poimintakoodi599a"
                      maxLength="128">
                  </div>
                  <div class="Input half-width">
                    <label for="lisakenttat-poimintakoodi599x">Poimintakoodi (599 $x):</label>
                    <input type="text" id="lisakenttat-poimintakoodi599x" name="lisakenttat-poimintakoodi599x"
                      maxLength="128">
                  </div>
                </div>
                <form class="full-width">
                  <div class="Input full-width">
                    <label for="lisakenttat-UDK080a">UDK (080 $a):</label>
                    <input type="text" id="lisakenttat-UDK080a" name="lisakenttat-UDK080a" maxLength="128">
                  </div>
                  <div class="Input full-width">
                    <label for="lisakenttat-UDK080x">UDK (080 $x):</label>
                    <input type="text" id="lisakenttat-UDK080x" name="lisakenttat-UDK080x" maxLength="128">
                  </div>
                  <button class="material-icons tooltip no-border" tooltip-text="Lisää">add</button>
                </form>
                <form class="full-width">
                  <div class="Input full-width">
                    <label for="lisakenttat-muu-luokitus-084a">Muu luokitus (084 $a):</label>
                    <input type="text" id="lisakenttat-muu-luokitus-084a" name="lisakenttat-muu-luokitus-084a"
                      maxLength="128">
                  </div>
                  <div class="Input full-width">
                    <label for="lisakenttat-luokituksen-lahde-0842">Luokituksen lähde (084 $2):</label>
                    <input type="text" id="lisakenttat-luokituksen-lahde-0842" name="lisakenttat-luokituksen-lahde-0842"
                      maxLength="128">
                  </div>
                  <button class="material-icons tooltip no-border" tooltip-text="Lisää">add</button>
                </form>
              </fieldset>
              <fieldset>
                <legend>Lisätyt lisäkentät:</legend>
                <div id="huomautukset-list">
                </div>
                <div id="udk-list">
                </div>
                <div id="muu-luokitus-list">
                </div>
              </fieldset>
            </div>
          </div>
        </div>

        <div class="col">
          <div id="record1" class="BoxShadow">
            <form class="ToolBar HBox header">
              <div class="Filler">Tietue esikatselu</div>
              <button class="material-icons tooltip" tooltip-text="päivitä"
                onclick="return doUpdate(event)">sync</button>
            </form>
            <div id="Record" class="marc-record">
            </div>
          </div>
        </div>

      </div>
    </div>
  </div>

  <!-- ---------------------------------------------------------------------- -->
  <!-- Field edit dialog -->
  <div id="fieldEditDlg" class="modal" onclick="return editDlgClose(event)">
    <div class="modal-content BoxShadow" onclick="return ignore(event)">
      <span id="field" class="marc-record"></span><br />
      <div style="display: flex; justify-content: right;">
        <button onclick="return editDlgUseOriginal(event)">Käytä alkuperäistä</button>
      </div>
      <hr />
      <div class="fieldedit marc-record">
        <div style="display: flex;">
          Tag: <div id="tag"></div>
          Ind1: <div id="ind1"></div>
          Ind2: <div id="ind2"></div>
        </div>
        <hr />
        <div id="fieldlist" width="100%">
        </div>
        <button onclick="return onAddField(event)">Uusi osakenttä</button>
      </div>
      <hr />
      <div style="display: flex; justify-content: right;">
        <button onclick="return editDlgClose(event)">Peru muutokset</button>
        <button onclick="return editDlgOK(event)">Tallenna muutokset</button>
      </div>
    </div>
  </div>

  <!-- ---------------------------------------------------------------------- -->
  <!-- Search dialog -->
  <dialog id="searchDlg">
    Testi
  </dialog>

  <!-- ---------------------------------------------------------------------- -->
  <!-- Tab for server side notes -->
  <div id="server-note" hidden>
  </div>

</body>

</html>